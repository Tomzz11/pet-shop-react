<div class="flex flex-col md:flex-row p-4 md:p-6 gap-4">

    <!-- Sidebar -->
    <aside class="w-full md:w-52 bg-gray-200 p-2 max-h-96 overflow-y-auto mt-16 md:mt-15 mx-auto md:mx-0 ">
  <h2 class="text-3xl font-bold text-center px-4 py-3 mb-4">Products</h2>

  <ul class="space-y-2">
    <li>
      <a href="#" class="flex gap-3 items-center p-2 rounded hover:bg-gray-300">
        <div class="w-2 h-2 bg-black"></div>
        Products List
      </a>
    </li>
    <li>
      <a href="#" class="flex gap-3 items-center p-2 rounded hover:bg-gray-300">
        <div class="w-2 h-2 bg-black"></div>
        Add Products
      </a>
    </li>
    <li>
      <a href="#" class="flex gap-3 items-center p-2 rounded hover:bg-gray-300">
        <div class="w-2 h-2 bg-black"></div>
        Edit Products
      </a>
    </li>
  </ul>
</aside>

    <!-- Main Content -->
<main class="flex-1 md:p-10 bg-gray-200 rounded-md">

  <h3 class="text-2xl font-bold text-center  py-5 mb-4">Add New Product</h3>

  <form id="addProductForm" class="bg-gray-300 p-6 rounded-md max-w-xl mx-auto space-y-6">

    <!-- Image upload + preview -->
    <div class="flex items-center gap-6">
      <div class="w-24 h-24 bg-white border rounded overflow-hidden flex items-center justify-center">
        <img id="imagePreview" src="" alt="Preview" class="object-cover w-full h-full hidden" />
        <span id="noImage" class="text-gray-400">No Image</span>
      </div>
      <input type="file" id="imageInput" accept="image/*" class="border p-1 rounded cursor-pointer" />
    </div>

    <!-- Input fields -->
    <input type="text" id="productName" placeholder="Name" required
      class="w-full p-2 border rounded" />
    <input type="text" id="productCategory" placeholder="Category" required
      class="w-full p-2 border rounded" />
    <input type="text" id="productPrice" placeholder="Price" required
      class="w-full p-2 border rounded" />

    <!-- Buttons -->
    <div class="flex gap-4 justify-center">
      <button type="button" id="saveDraft" class="bg-cyan-400 px-6 py-2 rounded font-semibold text-white hover:bg-cyan-500 transition">บันทึกร่าง</button>
      <button type="submit" class="bg-green-500 px-6 py-2 rounded font-semibold text-white hover:bg-green-600 transition">บันทึก</button>
      <button type="button" id="cancel" class="bg-red-500 px-6 py-2 rounded font-semibold text-white hover:bg-red-600 transition">ยกเลิก</button>
    </div>

  </form>

</main>

<script>
  const imageInput = document.getElementById('imageInput');
  const imagePreview = document.getElementById('imagePreview');
  const noImage = document.getElementById('noImage');

  // พรีวิวรูปเมื่ออัพโหลด
  imageInput.addEventListener('change', () => {
    const file = imageInput.files[0];
    if (file) {
      const reader = new FileReader();
      reader.onload = () => {
        imagePreview.src = reader.result;
        imagePreview.classList.remove('hidden');
        noImage.classList.add('hidden');
      };
      reader.readAsDataURL(file);
    } else {
      imagePreview.src = '';
      imagePreview.classList.add('hidden');
      noImage.classList.remove('hidden');
    }
  });

  // ปุ่มยกเลิก รีเซ็ตฟอร์มและรูปภาพ
  document.getElementById('cancel').addEventListener('click', () => {
    document.getElementById('addProductForm').reset();
    imagePreview.src = '';
    imagePreview.classList.add('hidden');
    noImage.classList.remove('hidden');
  });

  // ปุ่มบันทึกร่าง (ตัวอย่างเก็บใน localStorage)
  document.getElementById('saveDraft').addEventListener('click', () => {
    const draft = {
      name: document.getElementById('productName').value,
      category: document.getElementById('productCategory').value,
      price: document.getElementById('productPrice').value,
      image: imagePreview.src || null,
    };
    localStorage.setItem('productDraft', JSON.stringify(draft));
    alert('บันทึกร่างเรียบร้อย');
  });

  // โหลดข้อมูลร่างถ้ามี
  window.addEventListener('load', () => {
    const draft = JSON.parse(localStorage.getItem('productDraft'));
    if (draft) {
      document.getElementById('productName').value = draft.name || '';
      document.getElementById('productCategory').value = draft.category || '';
      document.getElementById('productPrice').value = draft.price || '';
      if (draft.image) {
        imagePreview.src = draft.image;
        imagePreview.classList.remove('hidden');
        noImage.classList.add('hidden');
      }
    }
  });

  // ฟอร์ม submit
  document.getElementById('addProductForm').addEventListener('submit', (e) => {
    e.preventDefault();
    // ตรงนี้ใส่โค้ดเพิ่มสินค้าเข้า database หรือ array ของคุณ

    alert('บันทึกสินค้าเรียบร้อยแล้ว!');
    // ล้างฟอร์ม
    document.getElementById('addProductForm').reset();
    imagePreview.src = '';
    imagePreview.classList.add('hidden');
    noImage.classList.remove('hidden');
    // ลบร่างเก่า
    localStorage.removeItem('productDraft');
  });
</script>